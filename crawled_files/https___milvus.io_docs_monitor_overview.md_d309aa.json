{"content": "<iframe src=\"https://www.googletagmanager.com/ns.html?id=G-V1G3KQ048M\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\" aria-hidden=\"true\"></iframe>DocsTutorialsToolsBlogCommunityTry Managed Milvus FREEDocsTutorialsToolsBlogCommunityStars0Join SlackTry Managed Milvus FREEHow we use cookiesThis website stores cookies on your computer. By continuing to browse or by clicking \u2018Accept\u2019, you agree to the storing of cookies on your device to enhance your site experience and for analytical purposes.AcceptSearch\u2318KHomev2.2.x\u200bAbout MilvusGet StartedUser GuideAdministration GuideConfigure MilvusManage DependenciesAllocate ResourcesDeploy on CloudsScale a Milvus ClusterManage Resource GroupsUpgradeMonitor and AlertMonitoring ArchitectureDeploy Monitoring ServicesVisualize Milvus MetricsMilvus Metrics DashboardCreate an AlertSecurityIntegrationsBenchmarksToolsReferenceExample ApplicationsFAQsAPI referenceMilvus monitoring framework overview\nThis topic explains how Milvus uses Prometheus to monitor metrics and Grafana to visualize metrics and create alerts.\nPrometheus in Milvus\nPrometheus is an open-source monitoring and alerting toolkit for Kubernetes implementations. It collects and stores metrics as time-series data. This means that metrics are stored with timestamps when recorded, alongside with optional key-value pairs called labels.\nCurrently Milvus uses the following components of Prometheus:\n\nPrometheus endpoint to pull data from endpoints set by exporters.\nPrometheus operator to effectively manage Prometheus monitoring instances.\nKube-prometheus to provide easy to operate end-to-end Kubernetes cluster monitoring.\n\nMetric names\nA valid metric name in Prometheus contains three elements: namespace, subsystem, and name. These three elements are connected with \"_\".\nThe namespace of Milvus metrics monitored by Prometheus is \"milvus\". Depending on the role that a metric belongs to, its subsystem should be one of the following eight roles: \"rootcoord\", \"proxy\", \"querycoord\", \"querynode\", \"indexcoord\", \"indexnode\", \"datacoord\", \"datanode\".\nFor instance, the Milvus metric that calculates the total number of vectors queried is named milvus_proxy_search_vectors_count.\nMetric types\nPrometheus supports four types of metrics:\n\nCounter: a type of cumulative metrics whose value can only increase or be reset to zero upon restart.\nGauge: a type of metrics whose value can either go up and down.\nHistogram: a type of metrics that are counted based on configurable buckets. A common example is request duration.\nSummary: a type of metrics similar to histogram that calculates configurable quantiles over a sliding time window.\n\nMetric labels\nPrometheus differentiates samples with the same metric name by labeling them. A label is a certain attribute of a metric. Metrics with the same name must have the same value for the variable_labels field. The following table lists the names and meanings of common labels of Milvus metrics.\n\n\n\nLabel name\nDefinition\nValues\n\n\n\n\n\"node_id\"\nThe unique identity of a role.\nA globally unique ID generated by milvus.\n\n\n\"status\"\nThe status of a processed operation or request.\n\"abandon\", \"success\", or \"fail\".\n\n\n\u201cquery_type\u201d\nThe type of a read request.\n\"search\" or \"query\".\n\n\n\"msg_type\"\nThe type of messages.\n\"insert\", \"delete\", \"search\", or \"query\".\n\n\n\"segment_state\"\nThe status of a segment.\n\"Sealed\", \"Growing\", \"Flushed\", \"Flushing\", \"Dropped\", or \"Importing\".\n\n\n\"cache_state\"\nThe status of a cached object.\n\"hit\" or \"miss\".\n\n\n\"cache_name\"\nThe name of a cached object. This label is used together with the label \"cache_state\".\nEg. \"CollectionID\", \"Schema\", etc.\n\n\n\u201cchannel_name\"\nPhysical topics in message storage (Pulsar or Kafka).\nEg.\"by-dev-rootcoord-dml_0\", \"by-dev-rootcoord-dml_255\", etc.\n\n\n\"function_name\"\nThe name of a function that handles certain requests.\nEg. \"CreateCollection\", \"CreatePartition\", \"CreateIndex\", etc.\n\n\n\"user_name\"\nThe user name used for authentication.\nA user name of your preference.\n\n\n\"index_task_status\"\nThe status of an index task in meta storage.\n\"unissued\", \"in-progress\", \"failed\", \"finished\", or \"recycled\".\n\n\n\nGrafana in Milvus\nGrafana is an open-source visualizing stack that can connect with all data sources. By pulling up metrics, it helps users understand, analyze and monitor massive data.\nMilvus uses Grafana's customizable dashboards for metric visualization.\nWhat's next\nAfter learning about the basic workflow of monitoring and alerting, learn:\n\nDeploy monitoring services\nVisualize Milvus metrics\nCreate an alert\nmonitor_overview.md was last updated at 2022-06-24 02:14:55: Reorganize monitor docs (#1548)Edit this pageReport a bugRequest doc changesOn this pageMilvus monitoring framework overviewPrometheus in MilvusGrafana in MilvusWhat's nextResourcesDocsBlogManaged serviceTutorialsBootcampDemoVideoToolsAttuMilvus CLISizing ToolMivlus backup ToolCommunityGet involvedSlackGithubForumMilvus. 2023 All rights reserved./*<![CDATA[*/window.pagePath=\"/docs/monitor_overview.md\";/*]]>*//*<![CDATA[*/window.___chunkMapping={\"polyfill\":[\"/polyfill.js\"],\"app\":[\"/app.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js.js\",\"/component---src-pages-404-js.ffef32ceb6972d1b6709.css\"],\"component---src-pages-bootcamp-jsx\":[\"/component---src-pages-bootcamp-jsx.js\",\"/component---src-pages-bootcamp-jsx.edf1a55d3c49094e9b41.css\"],\"component---src-pages-community-index-jsx\":[\"/component---src-pages-community-index-jsx.js\",\"/component---src-pages-community-index-jsx.c505d2a5fff7c1e4b2c8.css\"],\"component---src-pages-index-jsx\":[\"/component---src-pages-index-jsx.js\",\"/component---src-pages-index-jsx.45df0d4bdfe2db469d6c.css\"],\"component---src-pages-milvus-demos-index-jsx\":[\"/component---src-pages-milvus-demos-index-jsx.js\",\"/component---src-pages-milvus-demos-index-jsx.1a3d1c4caf417de255ae.css\"],\"component---src-pages-milvus-demos-reverse-image-search-jsx\":[\"/component---src-pages-milvus-demos-reverse-image-search-jsx.js\",\"/component---src-pages-milvus-demos-reverse-image-search-jsx.c41e4c5ead83649937e8.css\"],\"component---src-pages-slack-jsx\":[\"/component---src-pages-slack-jsx.js\",\"/component---src-pages-slack-jsx.b3b356986d01fe89f9d1.css\"],\"component---src-pages-tools-sizing-jsx\":[\"/component---src-pages-tools-sizing-jsx.js\",\"/component---src-pages-tools-sizing-jsx.66d1c05015f9508df90b.css\"],\"component---src-templates-api-doc-template-jsx\":[\"/component---src-templates-api-doc-template-jsx.js\",\"/component---src-templates-api-doc-template-jsx.6c57c73b99682695a5ef.css\"],\"component---src-templates-blog-list-template-jsx\":[\"/component---src-templates-blog-list-template-jsx.js\",\"/component---src-templates-blog-list-template-jsx.71f592374d478c258caf.css\"],\"component---src-templates-blog-template-jsx\":[\"/component---src-templates-blog-template-jsx.js\",\"/component---src-templates-blog-template-jsx.5068317f62135173b013.css\"],\"component---src-templates-doc-template-jsx\":[\"/component---src-templates-doc-template-jsx.js\",\"/component---src-templates-doc-template-jsx.0e85fbce360982ff881c.css\"]};/*]]>*/", "content_type": "text", "score": null, "meta": {"url": "https://milvus.io/docs/monitor_overview.md"}, "id_hash_keys": ["content"], "embedding": null, "id": "82b00e517ae649be53144daacf9a12ad"}