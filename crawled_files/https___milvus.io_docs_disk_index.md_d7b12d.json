{"content": "<iframe src=\"https://www.googletagmanager.com/ns.html?id=G-V1G3KQ048M\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\" aria-hidden=\"true\"></iframe>DocsTutorialsToolsBlogCommunityTry Managed Milvus FREEDocsTutorialsToolsBlogCommunityStars22kJoin SlackTry Managed Milvus FREEHow we use cookiesThis website stores cookies on your computer. By continuing to browse or by clicking \u2018Accept\u2019, you agree to the storing of cookies on your device to enhance your site experience and for analytical purposes.AcceptSearch\u2318KHomev2.2.x\u200bAbout MilvusGet StartedUser GuideAdministration GuideIntegrationsBenchmarksToolsReferenceArchitectureBitsetBoolean Expression RulesConsistencyCoordinator HAGlossaryIn-memory ReplicaKnowhereSchemaDynamic SchemaJSONSimilarity MetricsPartition KeyMulti-tenancySystem ConfigurationsTimestampTime SynchronizationTime TravelUsers and RolesVector IndexIn-memory IndexOn-disk IndexScalar IndexExample ApplicationsFAQsAPI referenceOn-disk Index\nThis article introduces an on-disk indexing algorithm named DiskANN. Based on Vamana graphs, DiskANN powers efficient searches within large datasets.\nTo improve query performance, you can specify an index type for each vector field.\n \nCurrently, a vector field only supports one index type. Milvus automatically deletes the old index when switching the index type.\n\nPrerequisites\nTo use DiskANN, note that\n\nDiskANN is enabled by default. If you prefer in-memory index over on-disk index, you are advised to disable this feature for a better performance.\n\nTo disable it, you can change queryNode.enableDisk to false in your milvus configuration file.\nTo enable it again, you can set queryNode.enableDisk to true.\n\n\nThe Milvus instance runs on Ubuntu 18.04.6 or a later release.\nThe Milvus data path should be mounted to an NVMe SSD for full performance:\n\nFor a Milvus Standalone instance, the data path should be /var/lib/milvus/data in the container where the instance runs.\nFor a Milvus Cluster instance, the data path should be /var/lib/milvus/data in the containers where the QueryNodes and IndexNodes run.\n\n\n\nLimits\nTo use DiskANN, ensure that you\n\nUse only float vectors with at least 32 dimensions in your data.\nUse only Euclidean Distance (L2) or Inner Product (IP) to measure the distance between vectors.\n\nIndex and search settings\n\n\nIndex building parameters\nWhen building a DiskANN index, use DISKANN as the index type. No index parameters are necessary.\n\n\nSearch parameters\n\n\n\nParameter\nDescription\nRange\n\n\n\n\nsearch_list\nSize of the candidate list, a larger size offers a higher recall rate with degraded performance.\n[k, min( 10 * k, 65535)] for k > 20  [k, 200] for k <= 20\n\n\n\n\n\nDiskANN-related Milvus configurations\nDiskANN is tunable. You can modify DiskANN-related parameters in ${MILVUS_ROOT_PATH}/configs/milvus.yaml to improve its performance.\n...\nDiskIndex:\n  MaxDegree: 56\n  SearchListSize: 100\n  PQCodeBugetGBRatio: 0.125\n  BuildNumThreadsRatio: 1.0\n  SearchCacheBudgetGBRatio: 0.125\n  LoadNumThreadRatio: 8.0\n  BeamWidthRatio: 4.0\n...\n\n\n\n\nParameter\nDescription\nValue Range\nDefault Value\n\n\n\n\nMaxDegree\nMaximum degree of the Vamana graph.  A larger value offers a higher recall rate but increases the size of and time to build the index.\n[1, 512]\n56\n\n\nSearchListSize\nSize of the candidate list.  A larger value increases the time spent on building the index but offers a higher recall rate.  Set it to a value smaller than MaxDegree unless you need to reduce the index-building time.\n[1, \u221e]\n100\n\n\nPQCodeBugetGBRatio\nSize limit on the PQ code.  A larger value offers a higher recall rate but increases memory usage.\n(0.0, 0.25]\n0.125\n\n\nBuildNumThreadsRatio\nRatio between the number of threads used to build the index and the number of CPUs.\n[1.0, 128.0 / CPU number]\n1.0\n\n\nSearchCacheBudgetGBRatio\nRatio of cached node numbers to raw data.  A larger value improves index-building performance with increased memory usage.\n[0.0, 0.3)\n0.10\n\n\nLoadNumThreadRatio\nRatio between the number of threads used to load index/search and the number of CPUs. For details, refer to the first item in References and Facts.\n[1, 65536 / 32 / CPU number]\n8.0\n\n\nBeamWidthRatio\nRatio between the maximum number of IO requests per search iteration and CPU number.\n[1, max(128 / CPU number, 16)]\n4.0\n\n\ndisk_index.md was last updated at 2023-07-25 20:12:51: update users, roles, disk_index pararmsEdit this pageReport a bugRequest doc changesOn this pageOn-disk IndexPrerequisitesLimitsIndex and search settingsDiskANN-related Milvus configurationsResourcesDocsBlogManaged serviceTutorialsBootcampDemoVideoToolsAttuMilvus CLISizing ToolMivlus backup ToolCommunityGet involvedSlackGithubForumMilvus. 2023 All rights reserved./*<![CDATA[*/window.pagePath=\"/docs/disk_index.md\";/*]]>*//*<![CDATA[*/window.___chunkMapping={\"polyfill\":[\"/polyfill.js\"],\"app\":[\"/app.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js.js\",\"/component---src-pages-404-js.ffef32ceb6972d1b6709.css\"],\"component---src-pages-bootcamp-jsx\":[\"/component---src-pages-bootcamp-jsx.js\",\"/component---src-pages-bootcamp-jsx.edf1a55d3c49094e9b41.css\"],\"component---src-pages-community-index-jsx\":[\"/component---src-pages-community-index-jsx.js\",\"/component---src-pages-community-index-jsx.c505d2a5fff7c1e4b2c8.css\"],\"component---src-pages-index-jsx\":[\"/component---src-pages-index-jsx.js\",\"/component---src-pages-index-jsx.45df0d4bdfe2db469d6c.css\"],\"component---src-pages-milvus-demos-index-jsx\":[\"/component---src-pages-milvus-demos-index-jsx.js\",\"/component---src-pages-milvus-demos-index-jsx.1a3d1c4caf417de255ae.css\"],\"component---src-pages-milvus-demos-reverse-image-search-jsx\":[\"/component---src-pages-milvus-demos-reverse-image-search-jsx.js\",\"/component---src-pages-milvus-demos-reverse-image-search-jsx.c41e4c5ead83649937e8.css\"],\"component---src-pages-slack-jsx\":[\"/component---src-pages-slack-jsx.js\",\"/component---src-pages-slack-jsx.b3b356986d01fe89f9d1.css\"],\"component---src-pages-tools-sizing-jsx\":[\"/component---src-pages-tools-sizing-jsx.js\",\"/component---src-pages-tools-sizing-jsx.66d1c05015f9508df90b.css\"],\"component---src-templates-api-doc-template-jsx\":[\"/component---src-templates-api-doc-template-jsx.js\",\"/component---src-templates-api-doc-template-jsx.6c57c73b99682695a5ef.css\"],\"component---src-templates-blog-list-template-jsx\":[\"/component---src-templates-blog-list-template-jsx.js\",\"/component---src-templates-blog-list-template-jsx.71f592374d478c258caf.css\"],\"component---src-templates-blog-template-jsx\":[\"/component---src-templates-blog-template-jsx.js\",\"/component---src-templates-blog-template-jsx.5068317f62135173b013.css\"],\"component---src-templates-doc-template-jsx\":[\"/component---src-templates-doc-template-jsx.js\",\"/component---src-templates-doc-template-jsx.0e85fbce360982ff881c.css\"]};/*]]>*/", "content_type": "text", "score": null, "meta": {"url": "https://milvus.io/docs/disk_index.md"}, "id_hash_keys": ["content"], "embedding": null, "id": "fcb0e4bed0c4fea6b7ee721beb982007"}