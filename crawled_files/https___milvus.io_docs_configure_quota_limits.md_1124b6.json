{"content": "<iframe src=\"https://www.googletagmanager.com/ns.html?id=G-V1G3KQ048M\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\" aria-hidden=\"true\"></iframe>DocsTutorialsToolsBlogCommunityTry Managed Milvus FREEDocsTutorialsToolsBlogCommunityStars22kJoin SlackTry Managed Milvus FREEHow we use cookiesThis website stores cookies on your computer. By continuing to browse or by clicking \u2018Accept\u2019, you agree to the storing of cookies on your device to enhance your site experience and for analytical purposes.AcceptSearch\u2318KHomev2.2.x\u200bAbout MilvusGet StartedUser GuideAdministration GuideIntegrationsBenchmarksToolsReferenceArchitectureBitsetBoolean Expression RulesConsistencyCoordinator HAGlossaryIn-memory ReplicaKnowhereSchemaDynamic SchemaJSONSimilarity MetricsPartition KeyMulti-tenancySystem ConfigurationsTimestampTime SynchronizationTime TravelUsers and RolesVector IndexScalar IndexExample ApplicationsFAQsAPI referenceQuota- and Limit-related configurations\nThis topic introduces the configuration items related to quotas and limits in Milvus.\nSome of these configuration items are used to set thresholds for Milvus to proactively throttle DDL/DML/DQL requests related to collections, partitions, indexes, etc.\nSome of them are used to set backpressure signals that force Milvus to lower the rate of DDL/DML/DQL requests.\nquotaAndLimits.limits.maxCollectionNumPerDB\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Maximum number of collections per database.\n      64\n    \n  \n\nquotaAndLimits.ddl.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether DDL request throttling is enabled.\n      False\n    \n  \n\nquotaAndLimits.ddl.collectionRate\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of collection-related DDL requests per second.\n        Setting this item to 10 indicates that Milvus processes no more than 10 collection-related DDL requests per second, including collection creation requests, collection drop requests, collection load requests, and collection release requests.\n        To use this setting, set quotaAndLimits.ddl.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.ddl.partitionRate\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of partition-related DDL requests per second.\n        Setting this item to 10 indicates that Milvus processes no more than 10 partition-related requests per second, including partition creation requests, partition drop requests, partition load requests, and partition release requests.\n        To use this setting, set quotaAndLimits.ddl.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.indexRate.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether index-related request throttling is enabled.\n      False\n    \n  \n\nquotaAndLimits.indexRate.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of index-related requests per second.\n        Setting this item to 10 indicates that Milvus processes no more than 10 partition-related requests per second, including index creation requests and index drop requests.\n        To use this setting, set quotaAndLimits.indexRate.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.flushRate.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether flush request throttling is enabled.\n      False\n    \n  \n\nquotaAndLimits.flush.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of flush requests per second.\n        Setting this item to 10 indicates that Milvus processes no more than 10 flush requests per second.\n        To use this setting, set quotaAndLimits.flushRate.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.compaction.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether flush request throttling is enabled.\n      False\n    \n  \n\nquotaAndLimits.compaction.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of manual-compaction requests per second.\n        Setting this item to 10 indicates that Milvus processes no more than 10 manual-compaction requests per second.\n        To use this setting, set quotaAndLimits.compaction.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dml.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether DML request throttling is enabled.\n      False\n    \n  \n\nquotaAndLimits.dml.insertRate.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Highest data insertion rate per second.\n        Setting this item to 5 indicates that Milvus only allows data insertion at the rate of 5 MB/s.\n        To use this setting, set quotaAndLimits.dml.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dml.insertRate.collection.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Highest data insertion rate per collection per second.\n        Setting this item to 5 indicates that Milvus only allows data insertion to any collection at the rate of 5 MB/s.\n        To use this setting, set quotaAndLimits.dml.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dml.deleteRate.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Highest data deletion rate per second.\n        Setting this item to 0.1 indicates that Milvus only allows data deletion at the rate of 0.1 MB/s.\n        To use this setting, set quotaAndLimits.dml.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dml.deleteRate.collection.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Highest data deletion rate per second.\n        Setting this item to 0.1 indicates that Milvus only allows data deletion from any collection at the rate of 0.1 MB/s.\n        To use this setting, set quotaAndLimits.dml.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dql.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether DQL request throttling is enabled.\n      False\n    \n  \n\nquotaAndLimits.dql.searchRate.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of vectors to search per second.\n        Setting this item to 100 indicates that Milvus only allows searching 100 vectors per second no matter whether these 100 vectors are all in one search or scattered across multiple searches.\n        To use this setting, set quotaAndLimits.dql.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dql.searchRate.collection.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of vectors to search per collection per second.\n        Setting this item to 100 indicates that Milvus only allows searching 100 vectors per second per collection no matter whether these 100 vectors are all in one search or scattered across multiple searches.\n        To use this setting, set quotaAndLimits.dql.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dql.queryRate.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of queries per second.\n        Setting this item to 100 indicates that Milvus only allows 100 queries per second.\n        To use this setting, set quotaAndLimits.dql.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.dql.queryRate.collection.max\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of queries per collection per second.\n        Setting this item to 100 indicates that Milvus only allows 100 queries per collection per second.\n        To use this setting, set quotaAndLimits.dql.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.limitWriting.ttProtection.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether the backpressure based on time tick delay is enabled.\n      False\n    \n  \n\nquotaAndLimits.limitWriting.ttProtection.maxTimeTickDelay\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum time tick delay. A time tick delay is the difference between RootCoord TSO and the minimum time tick of all flow graphs on DataNodes and QueryNodes.\n        Setting this item to 300 indicates that Milvus reduces the DML request rate as the delay increases and drops all DML requests once the delay reaches the set maximum in seconds.\n        To use this setting, set quotaAndLimits.limitWriting.ttProtection.enabled to true at the same time.\n      \n      300\n    \n  \n\nquotaAndLimits.limitWriting.memProtection.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether the backpressure based on memory water level is enabled.\n      False\n    \n  \n\nquotaAndLimits.limitWriting.memProtection.dataNodeMemoryLowWaterLevel\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Low memory water level on DataNodes. The memory water level is the ratio between the used memory and total memory on DataNodes.\n        Setting this item to 0.85 indicates that Milvus reduces the DML request rate as the memory water level on DataNodes reaches the set value.\n        To use this setting, set quotaAndLimits.limitWriting.memProtection.enabled to true at the same time.\n      \n      0.85\n    \n  \n\nquotaAndLimits.limitWriting.memProtection.queryNodeMemoryLowWaterLevel\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Low memory water level on QueryNodes. The memory water level is the ratio between the used memory and total memory on QueryNodes.\n        Setting this item to 0.85 indicates that Milvus reduces the DML request rate as the memory water level on QueryNodes reaches the set value.\n        To use this setting, set quotaAndLimits.limitWriting.memProtection.enabled to true at the same time.\n      \n      0.85\n    \n  \n\nquotaAndLimits.limitWriting.memProtection.dataNodeMemoryHighWaterLevel\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        High memory water level on DataNodes. The memory water level is the ratio between the used memory and total memory on DataNodes.\n        Setting this item to 0.95 indicates that Milvus drops all DML requests as the memory water level on DataNodes reaches the set value.\n        To use this setting, set quotaAndLimits.limitWriting.memProtection.enabled to true at the same time.\n      \n      0.95\n    \n  \n\nquotaAndLimits.limitWriting.memProtection.queryNodeMemoryHighWaterLevel\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        High memory water level on QueryNodes. The memory water level is the ratio between the used memory and total memory on QueryNodes.\n        Setting this item to 0.95 indicates that Milvus drops all DML requests as the memory water level on QueryNodes reaches the set value.\n        To use this setting, set quotaAndLimits.limitWriting.memProtection.enabled to true at the same time.\n      \n      0.95\n    \n  \n\nquotaAndLimits.limitWriting.diskProtection.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether the backpressure based on disk quota is enabled.\n      False\n    \n  \n\nquotaAndLimits.limitWriting.diskProtection.diskQuota\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Disk quota allocated to binlog.\n        Setting this item to 8192 indicates that Milvus drops all DML requests as the size of binlog reaches the set value.\n        To use this setting, set quotaAndLimits.limitWriting.diskProtection.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.limitWriting.diskProtection.diskQuotaPerCollection\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Disk quota allocated to binlog per collection.\n        Setting this item to 8192 indicates that Milvus drops all DML requests in a collection as the size of binlog of the collection reaches the set value.\n        To use this setting, set quotaAndLimits.limitWriting.diskProtection.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.limitWriting.forceDeny\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether to manually configure Milvus to drop all DML requests.\n      False\n    \n  \n\nquotaAndLimits.limitReading.queueProtection.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether the backpressure based on the lengths of the search and query queue is enabled.\n      False\n    \n  \n\nquotaAndLimits.limitReading.queueProtection.nqInQueueThreshold\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Maximum number of search vectors or queries. Note that a search request containing multiple search vectors are regarded as multiple seaches, while a query is the same as a search request containing only one search vector.\n        Setting this item to 10000 indicates that Milvus reduces the DQL request rate as the number of searches and queries reaches the set maximum in milliseconds, and the backpressure is resolved when the number decreases below the set value. The reduction rate id determined by quotaAndLimits.limitReading.coolOffSpeed.\n        To use this setting, set quotaAndLimits.limitReading.queueProtection.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.limitReading.queueProtection.queueLatencyThreshold\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Average latency of the queued searches and queries. Note that a search request containing multiple search vectors are regarded as multiple seaches, while a query is the same as a search request containing only one search vector.\n        Setting this item to 200 indicates that Milvus reduces the DQL request rate as the average latency reaches the set maximum in milliseconds, and the backpressure is resolved when the number decreases below the set value in milliseconds. The reduction rate id determined by quotaAndLimits.limitReading.coolOffSpeed.\n        To use this setting, set quotaAndLimits.limitReading.queueProtection.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.limitReading.resultProtection.enabled\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether the backpressure based on the rate of the query results is enabled.\n      False\n    \n  \n\nquotaAndLimits.limitReading.resultProtection.maxReadResultRate\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      \n        Rate of the data returned to the client. \n        Setting this item to 2 indicates that Milvus reduces the DQL request rate as the data rate reaches the set maximum in MB/s, and the backpressure is resolved when the number decreases below the set value in MB/s. The reduction rate id determined by quotaAndLimits.limitReading.coolOffSpeed.\n        To use this setting, set quotaAndLimits.limitReading.resultProtection.enabled to true at the same time.\n      \n      \u221e\n    \n  \n\nquotaAndLimits.limitWriting.forceDeny\n\n  \n    \n      Description\n      Default Value \n    \n  \n  \n    \n      Whether to manually configure Milvus to drop all DQL requests.\n      False\n    \n  \nconfigure_quota_limits.md was last updated at 2023-07-12 23:21:52: Update configure_quota_limits.mdEdit this pageReport a bugRequest doc changesOn this pageQuota- and Limit-related configurationsquotaAndLimits.limits.maxCollectionNumPerDBquotaAndLimits.ddl.enabledquotaAndLimits.ddl.collectionRatequotaAndLimits.ddl.partitionRatequotaAndLimits.indexRate.enabledquotaAndLimits.indexRate.maxquotaAndLimits.flushRate.enabledquotaAndLimits.flush.maxquotaAndLimits.compaction.enabledquotaAndLimits.compaction.maxquotaAndLimits.dml.enabledquotaAndLimits.dml.insertRate.maxquotaAndLimits.dml.insertRate.collection.maxquotaAndLimits.dml.deleteRate.maxquotaAndLimits.dml.deleteRate.collection.maxquotaAndLimits.dql.enabledquotaAndLimits.dql.searchRate.maxquotaAndLimits.dql.searchRate.collection.maxquotaAndLimits.dql.queryRate.maxquotaAndLimits.dql.queryRate.collection.maxquotaAndLimits.limitWriting.ttProtection.enabledquotaAndLimits.limitWriting.ttProtection.maxTimeTickDelayquotaAndLimits.limitWriting.memProtection.enabledquotaAndLimits.limitWriting.memProtection.dataNodeMemoryLowWaterLevelquotaAndLimits.limitWriting.memProtection.queryNodeMemoryLowWaterLevelquotaAndLimits.limitWriting.memProtection.dataNodeMemoryHighWaterLevelquotaAndLimits.limitWriting.memProtection.queryNodeMemoryHighWaterLevelquotaAndLimits.limitWriting.diskProtection.enabledquotaAndLimits.limitWriting.diskProtection.diskQuotaquotaAndLimits.limitWriting.diskProtection.diskQuotaPerCollectionquotaAndLimits.limitWriting.forceDenyquotaAndLimits.limitReading.queueProtection.enabledquotaAndLimits.limitReading.queueProtection.nqInQueueThresholdquotaAndLimits.limitReading.queueProtection.queueLatencyThresholdquotaAndLimits.limitReading.resultProtection.enabledquotaAndLimits.limitReading.resultProtection.maxReadResultRatequotaAndLimits.limitWriting.forceDenyResourcesDocsBlogManaged serviceTutorialsBootcampDemoVideoToolsAttuMilvus CLISizing ToolMivlus backup ToolCommunityGet involvedSlackGithubForumMilvus. 2023 All rights reserved./*<![CDATA[*/window.pagePath=\"/docs/configure_quota_limits.md\";/*]]>*//*<![CDATA[*/window.___chunkMapping={\"polyfill\":[\"/polyfill.js\"],\"app\":[\"/app.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js.js\",\"/component---src-pages-404-js.ffef32ceb6972d1b6709.css\"],\"component---src-pages-bootcamp-jsx\":[\"/component---src-pages-bootcamp-jsx.js\",\"/component---src-pages-bootcamp-jsx.edf1a55d3c49094e9b41.css\"],\"component---src-pages-community-index-jsx\":[\"/component---src-pages-community-index-jsx.js\",\"/component---src-pages-community-index-jsx.c505d2a5fff7c1e4b2c8.css\"],\"component---src-pages-index-jsx\":[\"/component---src-pages-index-jsx.js\",\"/component---src-pages-index-jsx.45df0d4bdfe2db469d6c.css\"],\"component---src-pages-milvus-demos-index-jsx\":[\"/component---src-pages-milvus-demos-index-jsx.js\",\"/component---src-pages-milvus-demos-index-jsx.1a3d1c4caf417de255ae.css\"],\"component---src-pages-milvus-demos-reverse-image-search-jsx\":[\"/component---src-pages-milvus-demos-reverse-image-search-jsx.js\",\"/component---src-pages-milvus-demos-reverse-image-search-jsx.c41e4c5ead83649937e8.css\"],\"component---src-pages-slack-jsx\":[\"/component---src-pages-slack-jsx.js\",\"/component---src-pages-slack-jsx.b3b356986d01fe89f9d1.css\"],\"component---src-pages-tools-sizing-jsx\":[\"/component---src-pages-tools-sizing-jsx.js\",\"/component---src-pages-tools-sizing-jsx.66d1c05015f9508df90b.css\"],\"component---src-templates-api-doc-template-jsx\":[\"/component---src-templates-api-doc-template-jsx.js\",\"/component---src-templates-api-doc-template-jsx.6c57c73b99682695a5ef.css\"],\"component---src-templates-blog-list-template-jsx\":[\"/component---src-templates-blog-list-template-jsx.js\",\"/component---src-templates-blog-list-template-jsx.71f592374d478c258caf.css\"],\"component---src-templates-blog-template-jsx\":[\"/component---src-templates-blog-template-jsx.js\",\"/component---src-templates-blog-template-jsx.5068317f62135173b013.css\"],\"component---src-templates-doc-template-jsx\":[\"/component---src-templates-doc-template-jsx.js\",\"/component---src-templates-doc-template-jsx.0e85fbce360982ff881c.css\"]};/*]]>*/", "content_type": "text", "score": null, "meta": {"url": "https://milvus.io/docs/configure_quota_limits.md"}, "id_hash_keys": ["content"], "embedding": null, "id": "889fe0b5083ff687eb2f12f90d3a130c"}