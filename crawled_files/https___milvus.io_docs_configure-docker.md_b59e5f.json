{"content": "<iframe src=\"https://www.googletagmanager.com/ns.html?id=G-V1G3KQ048M\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\" aria-hidden=\"true\"></iframe>DocsTutorialsToolsBlogCommunityTry Managed Milvus FREEDocsTutorialsToolsBlogCommunityStars22kJoin SlackTry Managed Milvus FREEHow we use cookiesThis website stores cookies on your computer. By continuing to browse or by clicking \u2018Accept\u2019, you agree to the storing of cookies on your device to enhance your site experience and for analytical purposes.AcceptSearch\u2318KHomev2.2.x\u200bAbout MilvusGet StartedUser GuideAdministration GuideConfigure MilvusWith HelmWith DockerWith Milvus OperatorManage DependenciesAllocate ResourcesDeploy on CloudsScale a Milvus ClusterManage Resource GroupsUpgradeMonitor and AlertSecurityIntegrationsBenchmarksToolsReferenceExample ApplicationsFAQsAPI referenceConfigure Milvus with Docker Compose\nThis topic describes how to configure Milvus components and its third-party dependencies with Docker Compose.\n\nIn current release, all parameters take effect only after Milvus restarts.\n\nDownload a configuration file\nDownload milvus.yaml directly or with the following command.\n$ wget https://raw.githubusercontent.com/milvus-io/milvus/v2.2.12/configs/milvus.yaml\n\nModify the configuration file\nConfigure your Milvus instance to suit your application scenarios by adjusting corresponding parameters in milvus.yaml.\nCheck the following links for more information about each parameter.\nSorted by:\n\nComponents or dependencies Configuration purposes \n\n\n\n\n  \n    Dependencies\n    Components\n  \n\n\n  \n    \n        \n            etcd\n            MinIO or S3\n            Pulsar\n            RocksMQ\n        \n    \n    \n        \n            Root coord\n            Proxy\n            Query coord\n            Query node\n            Index coord\n            Index node\n            Data coord\n            Data node\n            Local storage\n            Log\n            Message channel\n            Common\n            Knowhere\n            Quota and Limits\n        \n    \n  \n\n\n\n\n\n\n  \n    Purpose\n    Parameters\n  \n\n\n  \n    Performance tuning\n    \n        \n            queryNode.gracefulTime\n            rootCoord.minSegmentSizeToEnableIndex\n            dataCoord.segment.maxSize\n            dataCoord.segment.sealProportion\n            dataNode.flush.insertBufSize\n            queryCoord.autoHandoff\n            queryCoord.autoBalance\n            localStorage.enabled\n        \n    \n  \n  \n    Data and meta\n    \n        \n            common.retentionDuration\n            rocksmq.retentionTimeInMinutes\n            dataCoord.enableCompaction\n            dataCoord.enableGarbageCollection\n            dataCoord.gc.dropTolerance\n        \n    \n  \n  \n    Administration\n    \n        \n            log.level\n            log.file.rootPath\n            log.file.maxAge\n            minio.accessKeyID\n            minio.secretAccessKey\n        \n    \n  \n  \n    Quota and Limits\n    \n        \n            quotaAndLimits.ddl.enabled\n            quotaAndLimits.ddl.collectionRate\n            quotaAndLimits.ddl.partitionRate\n            quotaAndLimits.indexRate.enabled\n            quotaAndLimits.indexRate.max\n            quotaAndLimits.flushRate.enabled\n            quotaAndLimits.flush.max\n            quotaAndLimits.compation.enabled\n            quotaAndLimits.compaction.max\n            quotaAndLimits.dml.enabled\n            quotaAndLimits.dml.insertRate.max\n            quotaAndLimits.dml.deleteRate.max\n            quotaAndLimits.dql.enabled\n            quotaAndLimits.dql.searchRate.max\n            quotaAndLimits.dql.queryRate.max\n            quotaAndLimits.limitWriting.ttProtection.enabled\n            quotaAndLimits.limitWriting.ttProtection.maxTimeTickDelay\n            quotaAndLimits.limitWriting.memProtection.enabled\n            quotaAndLimits.limitWriting.memProtection.dataNodeMemoryLowWaterLevel\n            quotaAndLimits.limitWriting.memProtection.queryNodeMemoryLowWaterLevel\n            quotaAndLimits.limitWriting.memProtection.dataNodeMemoryHighWaterLevel\n            quotaAndLimits.limitWriting.memProtection.queryNodeMemoryHighWaterLevel\n            quotaAndLimits.limitWriting.diskProtection.enabled\n            quotaAndLimits.limitWriting.diskProtection.diskQuota\n            quotaAndLimits.limitWriting.forceDeny\n            quotaAndLimits.limitReading.queueProtection.enabled\n            quotaAndLimits.limitReading.queueProtection.nqInQueueThreshold\n            quotaAndLimits.limitReading.queueProtection.queueLatencyThreshold\n            quotaAndLimits.limitReading.resultProtection.enabled\n            quotaAndLimits.limitReading.resultProtection.maxReadResultRate\n            quotaAndLimits.limitReading.forceDeny\n        \n    \n  \n\n\n\nDownload an installation file\nDownload the installation file for Milvus standalone, and save it as docker-compose.yml.\nYou can also simply run the following command.\n# For Milvus standalone\n$ wget https://github.com/milvus-io/milvus/releases/download/v2.2.12/milvus-standalone-docker-compose.yml -O docker-compose.yml\n\nModify the installation file\nIn docker-compose.yml, add a volumes section under each Milvus component, i.e. root coord, data coord, data node, query coord, query node, index coord, index node, and proxy.\nMap the local path to your milvus.yaml file onto the corresponding docker container paths to the configuration files /milvus/configs/milvus.yaml under all volumes sections.\n...\nproxy:\n    container_name: milvus-proxy\n    image: milvusdb/milvus:v2.2.12\n    command: [\"milvus\", \"run\", \"proxy\"]\n    volumes:       # Add a volumes section.\n      - /local/path/to/your/milvus.yaml:/milvus/configs/milvus.yaml   # Map the local path to the container path\n    environment:\n      ETCD_ENDPOINTS: etcd:2379\n      MINIO_ADDRESS: minio:9000\n      PULSAR_ADDRESS: pulsar://pulsar:6650\n    ports:\n      - \"19530:19530\"\n...\n\n\nData are stored in the /volumes folder according to the default configuration in docker-compose.yml. To change the folder to store data, edit docker-compose.yml or run $ export DOCKER_VOLUME_DIRECTORY=.\n\nStart Milvus\nHaving finished modifying the configuration file and installation file, you can then start Milvus.\n$ sudo docker-compose up -d\n\nWhat's next\n\nLearn how to manage the following Milvus dependencies with Docker Compose or Helm:\n\nConfigure Object Storage with Docker Compose or Helm\nConfigure Meta Storage with Docker Compose or Helm\nConfigure Message Storage with Docker Compose or Helm\n\n\nconfigure-docker.md was last updated at 2023-05-06 06:15:10: Update docker docsEdit this pageReport a bugRequest doc changesOn this pageConfigure Milvus with Docker ComposeDownload a configuration fileModify the configuration fileDownload an installation fileModify the installation fileStart MilvusWhat's nextResourcesDocsBlogManaged serviceTutorialsBootcampDemoVideoToolsAttuMilvus CLISizing ToolMivlus backup ToolCommunityGet involvedSlackGithubForumMilvus. 2023 All rights reserved./*<![CDATA[*/window.pagePath=\"/docs/configure-docker.md\";/*]]>*//*<![CDATA[*/window.___chunkMapping={\"polyfill\":[\"/polyfill.js\"],\"app\":[\"/app.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js.js\",\"/component---src-pages-404-js.ffef32ceb6972d1b6709.css\"],\"component---src-pages-bootcamp-jsx\":[\"/component---src-pages-bootcamp-jsx.js\",\"/component---src-pages-bootcamp-jsx.edf1a55d3c49094e9b41.css\"],\"component---src-pages-community-index-jsx\":[\"/component---src-pages-community-index-jsx.js\",\"/component---src-pages-community-index-jsx.c505d2a5fff7c1e4b2c8.css\"],\"component---src-pages-index-jsx\":[\"/component---src-pages-index-jsx.js\",\"/component---src-pages-index-jsx.45df0d4bdfe2db469d6c.css\"],\"component---src-pages-milvus-demos-index-jsx\":[\"/component---src-pages-milvus-demos-index-jsx.js\",\"/component---src-pages-milvus-demos-index-jsx.1a3d1c4caf417de255ae.css\"],\"component---src-pages-milvus-demos-reverse-image-search-jsx\":[\"/component---src-pages-milvus-demos-reverse-image-search-jsx.js\",\"/component---src-pages-milvus-demos-reverse-image-search-jsx.c41e4c5ead83649937e8.css\"],\"component---src-pages-slack-jsx\":[\"/component---src-pages-slack-jsx.js\",\"/component---src-pages-slack-jsx.b3b356986d01fe89f9d1.css\"],\"component---src-pages-tools-sizing-jsx\":[\"/component---src-pages-tools-sizing-jsx.js\",\"/component---src-pages-tools-sizing-jsx.66d1c05015f9508df90b.css\"],\"component---src-templates-api-doc-template-jsx\":[\"/component---src-templates-api-doc-template-jsx.js\",\"/component---src-templates-api-doc-template-jsx.6c57c73b99682695a5ef.css\"],\"component---src-templates-blog-list-template-jsx\":[\"/component---src-templates-blog-list-template-jsx.js\",\"/component---src-templates-blog-list-template-jsx.71f592374d478c258caf.css\"],\"component---src-templates-blog-template-jsx\":[\"/component---src-templates-blog-template-jsx.js\",\"/component---src-templates-blog-template-jsx.5068317f62135173b013.css\"],\"component---src-templates-doc-template-jsx\":[\"/component---src-templates-doc-template-jsx.js\",\"/component---src-templates-doc-template-jsx.0e85fbce360982ff881c.css\"]};/*]]>*/", "content_type": "text", "score": null, "meta": {"url": "https://milvus.io/docs/configure-docker.md"}, "id_hash_keys": ["content"], "embedding": null, "id": "b37bbe70f357c8dec9f79b3c64b7339e"}