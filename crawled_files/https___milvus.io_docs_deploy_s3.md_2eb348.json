{"content": "<iframe src=\"https://www.googletagmanager.com/ns.html?id=G-V1G3KQ048M\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\" aria-hidden=\"true\"></iframe>DocsTutorialsToolsBlogCommunityTry Managed Milvus FREEDocsTutorialsToolsBlogCommunityStars22kJoin SlackTry Managed Milvus FREEHow we use cookiesThis website stores cookies on your computer. By continuing to browse or by clicking \u2018Accept\u2019, you agree to the storing of cookies on your device to enhance your site experience and for analytical purposes.AcceptSearch\u2318KHomev2.2.x\u200bAbout MilvusGet StartedUser GuideAdministration GuideConfigure MilvusManage DependenciesWith Docker or HelmObject StorageMeta StorageMessage StorageWith Milvus OperatorAllocate ResourcesDeploy on CloudsScale a Milvus ClusterManage Resource GroupsUpgradeMonitor and AlertSecurityIntegrationsBenchmarksToolsReferenceExample ApplicationsFAQsAPI referenceConfigure Object Storage with Docker Compose or Helm\nMilvus uses MinIO for object storage by default, but it also supports using Amazon Simple Storage Service (S3) as persistent object storage for log and index files. This topic describes how to configure S3 for Milvus. You can skip this topic if you are satisfied with MinIO.\nYou can configure S3 with Docker Compose or on K8s.\nConfigure S3 with Docker Compose\n1. Configure S3\nMinIO is compatible with S3. To configure S3 with Docker Compose, provide your values for the minio section in the milvus.yaml file on the milvus/configs path.\nminio:\n  address: <your_s3_endpoint>\n  port: <your_s3_port>\n  accessKeyID: <your_s3_access_key_id>\n  secretAccessKey: <your_s3_secret_access_key>\n  useSSL: <true/false>\n  bucketName: \"<your_bucket_name>\"\n\nSee MinIO/S3 Configurations for more information.\n2. Run Milvus\nRun the following command to start Milvus that uses the S3 configurations.\ndocker-compose up\n\nConfigurations only take effect after Milvus starts. See Start Milvus for more information.\nConfigure S3 on K8s\nFor Milvus clusters on K8s, you can configure S3 in the same command that starts Milvus. Alternatively, you can configure S3 using the values.yml file on the /charts/milvus path in the milvus-helm repository before you start Milvus.\nThe following table lists the keys for configuring S3 in the YAML file.\n\n\n\nKey\nDescription\nValue\n\n\n\n\nminio.enabled\nEnables or disables MinIO.\ntrue/false\n\n\nexternalS3.enabled\nEnables or disables S3.\ntrue/false\n\n\nexternalS3.host\nThe endpoint to access S3.\n\n\n\nexternalS3.port\nThe port to access S3.\n\n\n\nexternalS3.rootPath\nThe root path of the S3 storage.\nAn emtpy string by default.\n\n\nexternalS3.accessKey\nThe access key ID for S3.\n\n\n\nexternalS3.secretKey\nThe secret access key for S3.\n\n\n\nexternalS3.bucketName\nThe name of the S3 bucket.\n\n\n\nexternalS3.useSSL\nWhether to use SSL when connecting\nThe values defaults to false\n\n\n\nUsing the YAML file\n\nConfigure the minio section in the values.yaml file.\n\nminio:\n  enabled: false\n\n\nConfigure the externalS3 section using your values in the values.yaml file.\n\nexternalS3:\n  enabled: true\n  host: \"<your_s3_endpoint>\"\n  port: \"<your_s3_port>\"\n  accessKey: \"<your_s3_access_key_id>\"\n  secretKey: \"<your_s3_secret_key>\"\n  useSSL: <true/false>\n  bucketName: \"<your_bucket_name>\"\n  useSSL: <true/false>\n\n\nAfter configuring the preceding sections and saving the values.yaml file, run the following command to install Milvus that uses the S3 configurations.\n\nhelm install <your_release_name> milvus/milvus -f values.yaml\n\nUsing a command\nTo install Milvus and configure S3, run the following command using your values.\nhelm install <your_release_name> milvus/milvus --set cluster.enabled=true  --set minio.enabled=false --set externalS3.enabled=true --set externalS3.host=<your_s3_endpoint> --set externalS3.port=<your_s3_port> --set externalS3.accessKey=<your_s3_access_key_id> --set externalS3.secretKey=<your_s3_secret_key> --set externalS3.bucketName=<your_bucket_name>\n\nWhat's next\nLearn how to configure other Milvus dependencies with Docker Compose or Helm:\n\nConfigure Meta Storage with Docker Compose or Helm\nConfigure Message Storage with Docker Compose or Helm\ndeploy_s3.md was last updated at 2023-07-27 19:30:55: update deploy_s3Edit this pageReport a bugRequest doc changesOn this pageConfigure Object Storage with Docker Compose or HelmConfigure S3 with Docker ComposeConfigure S3 on K8sWhat's nextResourcesDocsBlogManaged serviceTutorialsBootcampDemoVideoToolsAttuMilvus CLISizing ToolMivlus backup ToolCommunityGet involvedSlackGithubForumMilvus. 2023 All rights reserved./*<![CDATA[*/window.pagePath=\"/docs/deploy_s3.md\";/*]]>*//*<![CDATA[*/window.___chunkMapping={\"polyfill\":[\"/polyfill.js\"],\"app\":[\"/app.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js.js\",\"/component---src-pages-404-js.ffef32ceb6972d1b6709.css\"],\"component---src-pages-bootcamp-jsx\":[\"/component---src-pages-bootcamp-jsx.js\",\"/component---src-pages-bootcamp-jsx.edf1a55d3c49094e9b41.css\"],\"component---src-pages-community-index-jsx\":[\"/component---src-pages-community-index-jsx.js\",\"/component---src-pages-community-index-jsx.c505d2a5fff7c1e4b2c8.css\"],\"component---src-pages-index-jsx\":[\"/component---src-pages-index-jsx.js\",\"/component---src-pages-index-jsx.45df0d4bdfe2db469d6c.css\"],\"component---src-pages-milvus-demos-index-jsx\":[\"/component---src-pages-milvus-demos-index-jsx.js\",\"/component---src-pages-milvus-demos-index-jsx.1a3d1c4caf417de255ae.css\"],\"component---src-pages-milvus-demos-reverse-image-search-jsx\":[\"/component---src-pages-milvus-demos-reverse-image-search-jsx.js\",\"/component---src-pages-milvus-demos-reverse-image-search-jsx.c41e4c5ead83649937e8.css\"],\"component---src-pages-slack-jsx\":[\"/component---src-pages-slack-jsx.js\",\"/component---src-pages-slack-jsx.b3b356986d01fe89f9d1.css\"],\"component---src-pages-tools-sizing-jsx\":[\"/component---src-pages-tools-sizing-jsx.js\",\"/component---src-pages-tools-sizing-jsx.66d1c05015f9508df90b.css\"],\"component---src-templates-api-doc-template-jsx\":[\"/component---src-templates-api-doc-template-jsx.js\",\"/component---src-templates-api-doc-template-jsx.6c57c73b99682695a5ef.css\"],\"component---src-templates-blog-list-template-jsx\":[\"/component---src-templates-blog-list-template-jsx.js\",\"/component---src-templates-blog-list-template-jsx.71f592374d478c258caf.css\"],\"component---src-templates-blog-template-jsx\":[\"/component---src-templates-blog-template-jsx.js\",\"/component---src-templates-blog-template-jsx.5068317f62135173b013.css\"],\"component---src-templates-doc-template-jsx\":[\"/component---src-templates-doc-template-jsx.js\",\"/component---src-templates-doc-template-jsx.0e85fbce360982ff881c.css\"]};/*]]>*/", "content_type": "text", "score": null, "meta": {"url": "https://milvus.io/docs/deploy_s3.md"}, "id_hash_keys": ["content"], "embedding": null, "id": "6e161736cbae03ecbbe1ef3f174374b9"}